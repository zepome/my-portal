<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portal</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google API Scripts -->
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client"></script>
</head>
<body>
    <!-- ヘッダー -->
    <header id="header">
        <div class="header-container">
            <!-- 左側: 天気情報 -->
            <div class="weather-section">
                <div class="weather-item" id="weather-shiga">
                    <span class="weather-icon">☀️</span>
                    <span class="weather-text">滋賀: 読込中...</span>
                </div>
                <div class="weather-item" id="weather-osaka">
                    <span class="weather-icon">☀️</span>
                    <span class="weather-text">大阪: 読込中...</span>
                </div>
                <div class="weather-item" id="weather-tokyo">
                    <span class="weather-icon">☀️</span>
                    <span class="weather-text">東京: 読込中...</span>
                </div>
            </div>

            <!-- 右側: タイマー/ストップウォッチ/Gmail -->
            <div class="tools-section">
                <!-- Gmail未読数 -->
                <div id="gmail-badge" style="display: none;">
                    <span class="gmail-icon">📧</span>
                    <span id="gmail-count">Gmail: -</span>
                </div>

                <!-- Googleログインボタン -->
                <button id="google-login-btn" style="display: none;">
                    Googleアカウントでログイン
                </button>

                <!-- タイマー -->
                <div class="timer-container">
                    <div class="timer-display" id="timer-display">
                        <span class="timer-icon">🕐</span>
                        <span id="timer-time">25:00</span>
                    </div>
                    <div class="timer-controls">
                        <button id="timer-start" class="timer-btn">開始</button>
                        <button id="timer-reset" class="timer-btn">リセット</button>
                    </div>
                </div>

                <!-- ストップウォッチ -->
                <div class="stopwatch-container">
                    <div class="stopwatch-display" id="stopwatch-display">
                        <span class="stopwatch-icon">⏱️</span>
                        <span id="stopwatch-time">00:00:00</span>
                    </div>
                    <div class="stopwatch-controls">
                        <button id="stopwatch-start" class="stopwatch-btn">開始</button>
                        <button id="stopwatch-reset" class="stopwatch-btn">リセット</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main id="main-content">
        <!-- Todoリスト -->
        <section class="todo-section">
            <div class="section-header">
                <h2>📝 Todoリスト</h2>
                <div class="todo-header-controls">
                    <select id="todo-sort" class="sort-select">
                        <option value="all">全て</option>
                        <option value="time">時間順</option>
                        <option value="group">グループ別</option>
                        <option value="day">日別</option>
                        <option value="month">月別</option>
                        <option value="morning">朝（6-12時）</option>
                        <option value="afternoon">昼（12-18時）</option>
                        <option value="evening">夜（18-24時）</option>
                        <option value="night">深夜（0-6時）</option>
                    </select>
                </div>
            </div>
            <div class="todo-input-container">
                <input type="text" id="todo-input" placeholder="タスクを入力...">
                <input type="date" id="todo-date">
                <input type="time" id="todo-time">
                <input type="text" id="todo-group" placeholder="グループ（任意）">
                <button id="add-todo-btn">+ タスクを追加</button>
            </div>
            <div id="todo-list" class="todo-list"></div>
        </section>

        <!-- カレンダー -->
        <section class="calendar-section">
            <div class="section-header">
                <h2>📅 カレンダー</h2>
                <div class="calendar-controls">
                    <button id="prev-month" class="calendar-nav-btn">◀</button>
                    <span id="current-month" class="current-month"></span>
                    <button id="next-month" class="calendar-nav-btn">▶</button>
                </div>
            </div>
            <div id="calendar" class="calendar"></div>
        </section>

        <!-- スプレッドシート -->
        <section class="spreadsheet-section">
            <div class="section-header">
                <h2>📊 スプレッドシート</h2>
            </div>
            <div class="spreadsheet-container">
                <div class="spreadsheet-toolbar">
                    <button id="add-row-btn">行を追加</button>
                    <button id="add-col-btn">列を追加</button>
                    <button id="clear-sheet-btn">クリア</button>
                </div>
                <div class="spreadsheet-wrapper">
                    <table id="spreadsheet" class="spreadsheet">
                        <thead>
                            <tr id="header-row"></tr>
                        </thead>
                        <tbody id="sheet-body"></tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- Config & Script -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
